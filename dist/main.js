(()=>{"use strict";const e=(e,t={},o="")=>{const c=document.createElement(e);return Object.keys(t).forEach((e=>{c.setAttribute(e,t[e])})),c.textContent=o,c},t=(e=[])=>{for(let t=e.length-2;t>0;t-=1)e[t].appendChild(e[t+1]);e[0].appendChild(e[1])},o=(()=>{const e=[];return{createTodo:function(t,o,c,d,l=0){const r={};r.id=e.length,r.title=t,r.description=o,r.dueDate=c,r.priority=d,r.projectId=l,e.push(r)},getProjectTodos:t=>e.filter((e=>e.projectId===parseInt(t,10))),getAllTodos:()=>[...e],getTodo:t=>e[t],updateTodo:(t,o,c,d,l,r=0)=>{e[t].title=o,e[t].description=c,e[t].dueDate=d,e[t].priority=l,e[t].projectId=r},deleteTodo:t=>e.splice(t,1)}})(),c=(()=>{const e={0:"default"};return{createProject:function(t){const o=Object.keys(e)[Object.keys(e).length-1];e[parseInt(o,10)+1]=t},getProject:t=>e[t],getAllProject:()=>Object.assign(e)}})(),d=t=>{let o=document.getElementById("project");o&&t.removeChild(o),o=e("select",{id:"project",class:"form-control mr-3"});const d=c.getAllProject();Object.keys(d).forEach((t=>{const c=e("option",{value:t},d[t]);o.appendChild(c)})),t.appendChild(o)},l=()=>{const d=document.getElementById("content"),r=e("div",{class:"todo-list"});document.querySelector(".todo-list")&&d.removeChild(document.querySelector(".todo-list"));const s=c.getAllProject();Object.keys(s).forEach((n=>{const a=n,i=o.getProjectTodos(a),p=e("h3",{},s[n]),m=e("ul",{class:"list-group list-group-flush"});i.forEach((d=>{const r=e("li",{class:"list-group-item"}),s=e("span",{},d.title),n=e("p",{},d.description),a=e("span",{},d.priority),i=e("div"),p=e("span",{class:"mx-2"}),u=e("i",{class:"fa fa-pencil-square-o","data-index":d.id,"data-toggle":"modal","data-target":"#myModal",id:"edit-icon"}),g=e("span"),y=e("i",{class:"fa fa-times","data-index":d.id});y.addEventListener("click",(e=>{o.deleteTodo(e.target.dataset.index),l()})),t([r,s]),t([r,n]),t([r,i,a]),t([r,i,p,u]),t([r,i,g,y]),t([m,r]),u.addEventListener("click",(d=>{(d=>{const l=document.querySelector("body"),r=e("div",{class:"container"}),s=e("div",{class:"modal",id:"myModal"}),n=e("div",{class:"modal-dialog"}),a=e("div",{class:"modal-content"}),i=e("div",{class:"modal-header"}),p=e("h4",{class:"modal-title"},"Edit Todo"),m=e("div",{class:"modal-body"}),u=e("form",{class:"mb-3"});["title","description","dueDate"].forEach((c=>{const l=e("div",{class:"form-group col-md-7"}),r=e("input",{type:"text",class:"form-control",id:c,placeholder:c,value:o.getTodo(d)[c]});t([u,l,r])}));const g=e("label",{for:"priority",class:"col-sm-2 col-form-label"},"Priority");u.appendChild(g);const y=e("div",{class:"form-group col-md-4"}),f=e("select",{id:"priority",class:"form-control"});["Not Urgent","Urgent"].forEach((t=>{const o=e("option",{},t);f.appendChild(o)})),t([u,y,f]);const v=e("label",{for:"project",class:"col-sm-2 col-form-label"},"Project");u.appendChild(v);const j=e("div",{class:"form-group col-md-4",id:"project-group"}),b=e("select",{id:"project",class:"form-control mr-3"}),h=c.getAllProject();Object.keys(h).forEach((t=>{const o=e("option",{value:t},h[t]);b.appendChild(o)})),j.appendChild(b),t([u,j]);const E=e("button",{type:"submit",class:"btn btn-success",id:"update-todo","data-dismiss":"modal"},"Update"),I=e("div",{class:"modal-footer d-flex justify-content-between"}),C=e("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal"},"Close");t([a,i,p]),t([a,m]),t([m,u]),t([a,I,E]),t([a,I,C]),t([l,r,s,n,a])})(d.target.dataset.index);const r=document.querySelector(".modal #title"),s=document.querySelector(".modal #description"),n=document.querySelector(".modal #dueDate"),a=document.querySelector(".modal #priority");document.getElementById("update-todo").addEventListener("click",(e=>{const t=document.querySelector(".modal #project");e.preventDefault(),o.updateTodo(d.target.dataset.index,r.value,s.value,n.value,a.value,parseInt(t.value,10)),l()}))}))})),t([d,r,p]),t([d,r,m])}))};(()=>{const o=document.getElementById("content"),c=e("h1",{},"Todo List"),l=e("form",{class:"mb-3"});["Title","Description","Due date"].forEach((o=>{const c=e("div",{class:"form-group col-md-7"}),d=e("input",{type:"text",class:"form-control",id:o,placeholder:o});t([l,c,d])}));const r=e("label",{for:"priority",class:"col-sm-2 col-form-label"},"Priority");l.appendChild(r);const s=e("div",{class:"form-group col-md-4"}),n=e("select",{id:"priority",class:"form-control"});["Not Urgent","Urgent"].forEach((t=>{const o=e("option",{},t);n.appendChild(o)})),t([l,s,n]);const a=e("label",{for:"project",class:"col-sm-2 col-form-label"},"Project");l.appendChild(a);const i=e("div",{class:"form-group col-md-4",id:"project-group"});d(i),t([l,i]);const p=e("button",{type:"submit",class:"btn btn-primary",id:"add-todo"},"Add Todo");l.appendChild(p),t([o,c]),t([o,l])})(),(()=>{const o=document.getElementById("content"),c=e("form",{class:"mb-3"}),d=e("div",{class:"form-group col-md-7"}),l=e("input",{type:"text",class:"form-control",id:"project-name",placeholder:"Project name"});t([c,d,l]);const r=e("button",{type:"submit",class:"btn btn-primary",id:"create-project"},"Create Project");c.appendChild(r),t([o,c])})(),l();const r=document.getElementById("Title"),s=document.getElementById("Description"),n=document.getElementById("Due date"),a=document.getElementById("priority");document.getElementById("add-todo").addEventListener("click",(e=>{const t=document.getElementById("project");e.preventDefault(),((e,t,c,d,l)=>{o.createTodo(e,t,c,d,l)})(r.value,s.value,n.value,a.value,parseInt(t.value,10)),l()}));const i=document.getElementById("project-group"),p=document.getElementById("project-name");document.getElementById("create-project").addEventListener("click",(e=>{e.preventDefault(),c.createProject(p.value),d(i),alert("New project created")}))})();
//# sourceMappingURL=main.js.map